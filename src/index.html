<html>
  <head>
    <title>Don't Look Back VR by Jerome Lecomte (JS13KGames 2019)</title>
    <meta name="monetization" content="$ilp.uphold.com/kgpZixyDHif7">
    <script src="aframe-v0.9.2.min.js"></script>
    <script src="game.js"></script>
  </head>
  <body>
    <a-scene
      loading-screen="dotsColor: white; backgroundColor: #663931"
      screen-manager
    >
      <!-- game title -->
      <a-entity
        id="title"
        position="0 2.7 -6"
      >
        <a-text
          align="center"
          animation="property: rotation; from: -2 -5 -1; to: 2 5 1; dur: 2000; loop: true; dir: alternate; easing: easeInOutQuad"
          color="black"
          font="mozillavr"
          position="0 0 0"
          scale="3 3 1"
          value="Don't look back VR!"
        ></a-text>
        <a-text
          color="black"
          align="center"
          font="roboto"
          position="0 -1 0"
          scale="0.75 0.75 1"
          value="a JS13KGAMES 2019 game\nby Jerome Lecomte"
        ></a-text>
      </a-entity>

      <!-- start button -->
      <a-text
        id="start-button"
        align="center"
        color="black"
        font="mozillavr"
        position="0 1.5 5"
        rotation="0 180 0"
        geometry="primitive:plane; width: 3; height: 1"
        material="opacity: 0"
        value="Oh boy, you looked back!\nNow the outlaws are after you.\nI sure hope you're a fast gun, cowboy!"
        visible="true"
      ></a-text>

      <!-- cowboy player -->
      <a-camera
        look-controls
        position="0 2 0"
      >
        <!-- game end text -->
        <a-text
          id="end"
          align="center"
          color="black"
          font="mozillavr"
          position="0 0 -1"
          scale="0.25 0.25 1"
          value="You survived, cowboy!\n\nYou really are the fastest gun\nin the whole wild West!"
          visible="false"
        ></a-text>
        <!-- HUD -->
        <a-text
          id="timer"
          align="left"
          color="black"
          font="mozillavr"
          position="-0.3 -0.3 -1"
          scale="0.25 0.25 1"
          value="time\n0:00"
          visible="false"
        ></a-text>
        <a-text
          id="shots"
          align="center"
          color="black"
          font="mozillavr"
          position="0.25 -0.3 -1"
          scale="0.25 0.25 1"
          value="shots\n0"
          visible="false"
        ></a-text>
        <!-- debugging: show actual VR device Point Of View on desktop -->
        <a-ring
          id="debug_pov"
          color="black"
          position="0 0 -1"
          radius-inner="0.6"
          radius-outer="0.61"
          visible="false"
        >
        </a-ring>
        <a-cursor></a-cursor>
      </a-camera>

      <!-- chicken practice targets -->
      <a-entity
        class="chicken one"
        position="-2 0.5 -4.5"
        rotation="0 35 0"
        target="revive: .chicken.two; texture: #chicken_texture; width: 1.2; height: 1.2"
        visible="true"
      >
      </a-entity>
      <a-entity
        class="chicken two"
        position="0 0.5 -4.5"
        target="texture: #chicken_texture; width: 1.2; height: 1.2"
        visible="true"
      >
      </a-entity>
      <a-entity
        class="chicken three"
        position="2 0.5 -4.5"
        rotation="0 -35 0"
        target="revive: .chicken.one, .chicken.two; texture: #chicken_texture; width: 1.2; height: 1.2"
        visible="true"
      ></a-entity>

      <!-- enemy outlaws (added below ground to prevent gaze interaction with them until they're shown -->
      <a-entity
        class="outlaw one"
        position="-1.1 -100.5 -4.5"
        rotation="0 14 0"
        target="revive: .outlaw.two, .outlaw.three; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      >
      </a-entity>
      <a-entity
        class="outlaw two"
        position="1.4 -100.5 -5"
        rotation="0 -16 0"
        target="texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw three"
        position="3.1 -100.5 -2.5"
        rotation="0 -52 0"
        target="revive: .outlaw.two; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw four"
        position="8.5 -100.5 -1.5"
        rotation="0 -75 0"
        target="revive: .outlaw.three, .outlaw.five; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw five"
        position="5 -100.5 1.5"
        rotation="0 -105 0"
        target="texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw fourteen coil"
        position="9 -100.5 5.5"
        rotation="0 -120 0"
        target="revive: .outlaw.one, .outlaw.six; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw six"
        position="2.5 -100.5 3"
        rotation="0 -140 0"
        target="revive: .outlaw.four, .outlaw.five; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw seven"
        position="5 -100.5 10"
        rotation="0 -150 0"
        target="texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw eight"
        position="-3.5 -100.5 5.5"
        rotation="0 150 0"
        target="revive: .outlaw.seven, .outlaw.nine; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw nine"
        position="-6.5 -100.5 4.5"
        rotation="0 125 0"
        target="revive: .outlaw.seven, .outlaw.ten; texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw ten"
        position="-3.5 -100.5 1"
        rotation="0 105 0"
        target="texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw eleven"
        position="-6 -100.5 -0.5"
        rotation="0 85 0"
        target="revive: .outlaw.ten; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw thirteen coil"
        position="-8 -100.5 -3.5"
        rotation="0 65 0"
        target="revive: .outlaw.six, .outlaw.twelve; texture: #outlaw1_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>
      <a-entity
        class="outlaw twelve"
        position="-3 -100.5 -3"
        rotation="0 45 0"
        target="revive: .outlaw.ten, .outlaw.eleven; texture: #outlaw2_texture; width: 1.2; height: 1.8"
        visible="false"
      ></a-entity>

      <!-- scenery -->
      <!-- desert ground -->
      <a-plane
        position="0 0 0"
        rotation="-90 0 0"
        width="150"
        height="150"
        color="#DBB742"
      ></a-plane>
      <!-- rocks -->
      <a-icosahedron
        color="#FF926B"
        position="-2 0.25 -4"
        rotation="0 45 0"
        radius="1"
      ></a-icosahedron>
      <a-icosahedron
        color="#FF926B"
        position="7.8 0.15 -1"
        rotation="25 60 0"
        radius="1"
      >
        <a-icosahedron
          color="#FF926B"
          position="0.5 0 0.2"
          rotation="45 15 0"
          scale="1.7 1.2 1"
          radius="1"
        ></a-icosahedron>
      </a-icosahedron>
      <a-icosahedron
        color="#FF926B"
        position="-12 0.3 6"
        rotation="25 60 0"
        radius="1"
      >
        <a-icosahedron
          color="#FF926B"
          position="-1.5 0 -0.2"
          rotation="-45 75 0"
          scale="1.5 2.2 1"
          radius="1"
        ></a-icosahedron>
      </a-icosahedron>
      <a-icosahedron
        color="#fda577"
        position="-40 0.5 -15"
        rotation="-45 75 0"
        scale="3 3.2 1"
        radius="1"
      ></a-icosahedron>
      <a-icosahedron
        color="#fda577"
        position="-5 0.5 25"
        rotation="-45 180 0"
        scale="3 3.2 1"
        radius="1"
      ></a-icosahedron>
      <!-- cactus -->
      <a-cylinder
        color="#086916"
        height="4"
        radius="0.5"
        position="25 2 -45"
        rotation="0 -45 0"
      >
        <a-cylinder
          color="#086916"
          height="1"
          radius="0.25"
          position="-0.65 1 0"
          rotation="0 0 45"
        >
          <a-icosahedron
            color="#086916"
            position="0 0.5 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder>
        <a-cylinder
          color="#086916"
          height="2"
          radius="0.25"
          position="0.65 0 0"
          rotation="0 0 -45"
        >
        <a-icosahedron
            color="#086916"
            position="0 1 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder>
        <a-icosahedron
          color="#086916"
          position="0 2 0"
          radius="0.5"
        ></a-icosahedron>
      </a-cylinder>
      <a-cylinder
        color="#086916"
        height="4"
        radius="0.5"
        position="14 2 10"
        rotation="0 75 0"
      >
        <a-cylinder
          color="#086916"
          height="1"
          radius="0.25"
          position="-0.65 1 0"
          rotation="0 0 45"
        >
          <a-icosahedron
            color="#086916"
            position="0 0.5 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder>
        <a-cylinder
          color="#086916"
          height="2"
          radius="0.25"
          position="0.65 0 0"
          rotation="0 0 -45"
        >
        <a-icosahedron
            color="#086916"
            position="0 1 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder>
        <a-icosahedron
          color="#086916"
          position="0 2 0"
          radius="0.5"
        ></a-icosahedron>
      </a-cylinder>
      <a-cylinder
        color="#086916"
        height="4"
        radius="0.5"
        position="-15 2 20"
        rotation="0 130 0"
        scale="0.4 0.7 1"
      >
        <a-cylinder
          color="#086916"
          height="1"
          radius="0.25"
          position="-0.65 1 0"
          rotation="0 0 45"
        >
          <a-icosahedron
            color="#086916"
            position="0 0.5 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder>
        <a-cylinder
          color="#086916"
          height="2"
          radius="0.25"
          position="0.65 0 0"
          rotation="0 0 -45"
        >
          <a-icosahedron
            color="#086916"
            position="0 1 0"
            radius="0.25"
          ></a-icosahedron>
        </a-cylinder> 
        <a-icosahedron
          color="#086916"
          position="0 2 0"
          radius="0.5"
        ></a-icosahedron>
      </a-cylinder>
      <!-- sky -->
      <a-sky color="#36C3FF"></a-sky>

      <!-- assets -->
      <a-assets>
        <img
          id="chicken_texture"
          src="chicken_x4.png"
        />
        <img
          id="outlaw1_texture"
          src="outlaw1_x4.png"
        />
        <img
          id="outlaw2_texture"
          src="outlaw2_x4.png"
        />
      </a-assets>

    </a-scene>
  </body>
</html>